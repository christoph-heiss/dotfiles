#
# ~/.bash_tools
#


__update_log()
{
	printf "\n${C_GREEN}---> Updating %s${C_RESET}\n" "$1"
}


update()
{

	case "`uname`" in
	Darwin )
		__update_log "OS X"
		sudo softwareupdate -i -a || exit
	
		__update_log brew
		brew update
		brew upgrade
		brew link --force unzip sqlite
		brew cleanup --force --prune=0 -s
		brew cask cleanup --force --prune=0 
		brew prune

		__update_log ports
		sudo port -uc selfupdate 
		sudo port -uc upgrade outdated
		sudo port clean --all installed
		;;

	Linux )
		__update_log packages
		pacaur -Syu
		;;

	esac

	if hash npm 2> /dev/null; then

		__update_log "npm packages"
		npm update -g
	fi

	if hash gem 2> /dev/null; then

		__update_log "gems"
		gem update
	fi
}


weather()
{
	curl -4 wttr.in
}
