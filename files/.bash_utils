#
# ~/.bash_tools
#


__update_log() {
	printf "\n${C_GREEN}---> Updating %s${C_RESET}\n" "$1"
}


update() {
	case "`uname`" in
	Darwin )
		__update_log "OS X"
		sudo softwareupdate -i -a || exit

		__update_log brew
		brew update
		brew upgrade
		brew link --force unzip sqlite
		brew cleanup --force --prune=0 -s
		brew cask cleanup
		brew prune
		;;

	Linux )
		__update_log packages
		yay -Syu --sudoloop --noconfirm --nodiffmenu --noeditmenu --noupgrademenu
		;;

	esac

	if hash yarn 2> /dev/null; then
		__update_log "node packages"
		yarn global upgrade
	fi

	if hash gem 2> /dev/null; then
		__update_log gems
		gem update
	fi

	if hash rustup 2> /dev/null; then
		__update_log rust
		rustup update
	fi
}


weather() {
	curl -4 wttr.in
}
